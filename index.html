<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
<title>X-BotForge ‚Äî Telegram –ë–æ—Ç—ã</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800;900&family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet"/>
<style>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   BOTFORGE ‚Äî style.css
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
:root {
  --bg: #0b0d14;
  --surface: #13151f;
  --card: #1a1d2e;
  --card2: #1e2235;
  --border: #252a3e;
  --border2: #2e3352;
  --accent: #6c63ff;
  --accent2: #ff6584;
  --green: #43e97b;
  --yellow: #f7971e;
  --blue: #4facfe;
  --purple: #9b59b6;
  --tg: #2AABEE;
  --tg2: #229ED9;
  --text: #e8eaf6;
  --text2: #aab0cc;
  --muted: #636880;
  --radius: 16px;
  --radius-sm: 10px;
  --shadow: 0 8px 32px rgba(0,0,0,0.45);
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{height:100%;overflow:hidden}
body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--text);position:relative}

/* ‚îÄ‚îÄ SCREENS ‚îÄ‚îÄ */
.screen{
  position:fixed;inset:0;display:flex;flex-direction:column;
  opacity:0;pointer-events:none;
  transition:opacity 0.35s ease,transform 0.35s ease;
  transform:translateY(12px);overflow:hidden;
}
.screen.active{opacity:1;pointer-events:all;transform:translateY(0)}

/* ‚ïê‚ïê BACKGROUND EFFECTS ‚ïê‚ïê */
.menu-bg{position:absolute;inset:0;overflow:hidden;pointer-events:none}
.orb{position:absolute;border-radius:50%;filter:blur(90px);animation:orbFloat 8s ease-in-out infinite alternate}
.orb1{width:350px;height:350px;background:rgba(108,99,255,0.18);top:-100px;left:-80px;animation-delay:0s}
.orb2{width:280px;height:280px;background:rgba(42,171,238,0.12);bottom:-60px;right:-60px;animation-delay:-3s}
.orb3{width:220px;height:220px;background:rgba(67,233,123,0.08);top:40%;left:50%;transform:translate(-50%,-50%);animation-delay:-5s}
@keyframes orbFloat{from{transform:translate(0,0) scale(1)}to{transform:translate(20px,30px) scale(1.12)}}
.grid-lines{position:absolute;inset:0;background-image:linear-gradient(rgba(108,99,255,0.04) 1px,transparent 1px),linear-gradient(90deg,rgba(108,99,255,0.04) 1px,transparent 1px);background-size:40px 40px}

@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes floatLogo{from{transform:translateY(0)}to{transform:translateY(-8px)}}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   LANDING / MENU SCREEN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#menuScreen{overflow-y:auto}
.landing-wrap{
  position:relative;z-index:2;
  min-height:100%;display:flex;flex-direction:column;
  padding:0 0 40px;
}

/* HERO */
.hero{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  text-align:center;padding:60px 24px 40px;gap:20px;
  animation:fadeUp 0.6s ease both;
}
.hero-badge{
  display:inline-flex;align-items:center;gap:8px;
  padding:7px 16px;border-radius:99px;
  background:rgba(42,171,238,0.1);border:1px solid rgba(42,171,238,0.3);
  font-size:0.78rem;font-weight:700;color:var(--tg);letter-spacing:0.06em;text-transform:uppercase;
}
.hero-badge-dot{width:7px;height:7px;border-radius:50%;background:var(--tg);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.5;transform:scale(1.5)}}
.hero-logo{
  display:flex;flex-direction:column;align-items:center;gap:12px;
}
.logo-icon-wrap{
  width:80px;height:80px;border-radius:24px;
  background:linear-gradient(135deg,var(--tg),var(--accent));
  display:flex;align-items:center;justify-content:center;
  font-size:2.5rem;
  box-shadow:0 0 40px rgba(42,171,238,0.35);
  animation:floatLogo 3s ease-in-out infinite alternate;
}
.logo-title{
  font-family:'Syne',sans-serif;font-size:2.8rem;font-weight:900;
  background:linear-gradient(135deg,#fff 30%,var(--tg));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  letter-spacing:-0.02em;
}
.logo-sub{font-size:1rem;color:var(--text2);font-weight:600;max-width:320px;line-height:1.5}

.btn-cta{
  position:relative;border:none;background:none;cursor:pointer;
  animation:fadeUp 0.6s 0.2s ease both;
}
.btn-cta-inner{
  display:flex;align-items:center;justify-content:center;gap:10px;
  padding:18px 40px;
  background:linear-gradient(135deg,var(--tg),var(--accent));
  border-radius:var(--radius);
  font-family:'Syne',sans-serif;font-size:1.1rem;font-weight:800;color:white;
  letter-spacing:0.02em;position:relative;z-index:1;
  transition:transform 0.15s,box-shadow 0.15s;
}
.btn-cta:active .btn-cta-inner{transform:scale(0.97)}
.btn-cta-glow{
  position:absolute;inset:0;border-radius:var(--radius);
  background:linear-gradient(135deg,var(--tg),var(--accent));
  filter:blur(20px);opacity:0.5;z-index:0;transition:opacity 0.2s;
}
.btn-cta:hover .btn-cta-glow{opacity:0.8}

/* FEATURES */
.features-section{
  padding:0 20px;max-width:520px;margin:0 auto;width:100%;
  display:flex;flex-direction:column;gap:12px;
  animation:fadeUp 0.6s 0.1s ease both;
}
.section-label{
  font-size:0.75rem;font-weight:700;color:var(--muted);
  text-transform:uppercase;letter-spacing:0.08em;text-align:center;margin-bottom:4px;
}
.feature-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.feature-card{
  background:var(--card);border:1px solid var(--border2);border-radius:var(--radius);
  padding:16px 14px;display:flex;flex-direction:column;gap:8px;
  transition:transform 0.2s,border-color 0.2s;
}
.feature-card:hover{transform:translateY(-3px);border-color:rgba(108,99,255,0.4)}
.f-icon{font-size:1.6rem;line-height:1}
.f-title{font-family:'Syne',sans-serif;font-size:0.95rem;font-weight:800;color:var(--text)}
.f-desc{font-size:0.78rem;color:var(--text2);line-height:1.5;font-weight:500}

/* PROCESS */
.process-section{
  padding:0 20px;max-width:520px;margin:0 auto;width:100%;
  animation:fadeUp 0.6s 0.15s ease both;
}
.process-steps{
  background:var(--card);border:1px solid var(--border2);border-radius:var(--radius);
  padding:18px 18px;display:flex;flex-direction:column;gap:0;
}
.process-step{
  display:flex;align-items:flex-start;gap:14px;padding:12px 0;
  border-bottom:1px solid var(--border);
}
.process-step:last-child{border-bottom:none;padding-bottom:0}
.process-step:first-child{padding-top:0}
.step-num{
  width:32px;height:32px;border-radius:50%;flex-shrink:0;
  background:linear-gradient(135deg,var(--accent),var(--tg));
  display:flex;align-items:center;justify-content:center;
  font-family:'Syne',sans-serif;font-size:0.85rem;font-weight:900;color:white;
}
.step-info{flex:1}
.step-title{font-weight:700;font-size:0.9rem;color:var(--text);margin-bottom:2px}
.step-desc{font-size:0.78rem;color:var(--text2);line-height:1.5;font-weight:500}

/* PRICING */
.pricing-section{
  padding:0 20px;max-width:520px;margin:0 auto;width:100%;
  animation:fadeUp 0.6s 0.2s ease both;
}
.pricing-card{
  background:var(--card);border:1px solid var(--border2);border-radius:var(--radius);
  padding:18px;display:flex;flex-direction:column;gap:10px;
}
.pricing-row{
  display:flex;align-items:center;justify-content:space-between;
  padding:8px 0;border-bottom:1px solid var(--border);
}
.pricing-row:last-child{border-bottom:none;padding-bottom:0}
.pr-label{font-size:0.85rem;font-weight:600;color:var(--text2)}
.pr-val{
  font-family:'Syne',sans-serif;font-size:0.9rem;font-weight:800;color:var(--text);
  display:flex;align-items:center;gap:6px;
}
.star-icon{color:var(--yellow)}

/* FOOTER */
.landing-footer{
  text-align:center;padding:16px;font-size:0.78rem;color:var(--muted);font-weight:600;
  animation:fadeUp 0.6s 0.3s ease both;
}

/* scrollbar for landing */
#menuScreen::-webkit-scrollbar{width:3px}
#menuScreen::-webkit-scrollbar-track{background:transparent}
#menuScreen::-webkit-scrollbar-thumb{background:var(--border2);border-radius:99px}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ORDER SCREEN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#orderScreen{justify-content:flex-start}
.order-header{
  display:flex;align-items:center;gap:12px;
  padding:14px 16px 12px;border-bottom:1px solid var(--border);
  flex-shrink:0;background:var(--surface);
}
.btn-back{
  width:38px;height:38px;border-radius:10px;border:1px solid var(--border2);
  background:var(--card);color:var(--text2);cursor:pointer;
  display:flex;align-items:center;justify-content:center;flex-shrink:0;
  transition:background 0.15s,color 0.15s;font-size:1.1rem;
}
.btn-back:active{background:var(--card2);color:var(--text)}
.order-title{font-family:'Syne',sans-serif;font-size:1rem;font-weight:800;color:var(--text)}

/* STEP INDICATOR */
.step-indicator{
  display:flex;align-items:center;justify-content:center;gap:6px;
  padding:14px 20px 10px;flex-shrink:0;
}
.step-dot{
  width:28px;height:6px;border-radius:99px;
  background:var(--border2);transition:all 0.3s ease;
}
.step-dot.active{background:linear-gradient(90deg,var(--tg),var(--accent));width:40px}
.step-dot.done{background:var(--green)}

.order-body{
  flex:1;overflow-y:auto;padding:20px 20px 32px;
  display:flex;flex-direction:column;gap:0;
  -webkit-overflow-scrolling:touch;
}
.order-body::-webkit-scrollbar{width:3px}
.order-body::-webkit-scrollbar-track{background:transparent}
.order-body::-webkit-scrollbar-thumb{background:var(--border2);border-radius:99px}

/* STEP PANELS */
.step-panel{
  display:none;flex-direction:column;gap:18px;
  animation:fadeUp 0.35s ease both;
}
.step-panel.active{display:flex}

.step-heading{
  font-family:'Syne',sans-serif;font-size:1.3rem;font-weight:900;color:var(--text);
  line-height:1.3;
}
.step-sub{font-size:0.88rem;color:var(--text2);font-weight:500;line-height:1.5;margin-top:2px}

/* SERVICE CARDS */
.service-cards{display:flex;flex-direction:column;gap:12px}
.service-card{
  background:var(--card);border:2px solid var(--border2);border-radius:var(--radius);
  padding:18px 16px;cursor:pointer;transition:all 0.2s ease;
  display:flex;align-items:center;gap:14px;
  position:relative;overflow:hidden;
}
.service-card::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(42,171,238,0.08),rgba(108,99,255,0.08));
  opacity:0;transition:opacity 0.2s;
}
.service-card:hover{transform:translateY(-2px);border-color:var(--border2)}
.service-card:hover::before{opacity:1}
.service-card.selected{border-color:var(--tg);box-shadow:0 0 0 1px var(--tg),0 4px 24px rgba(42,171,238,0.2)}
.service-card.selected::before{opacity:1}
.service-card:active{transform:scale(0.98)}
.sc-icon{font-size:2rem;flex-shrink:0;position:relative;z-index:1}
.sc-info{flex:1;position:relative;z-index:1}
.sc-title{font-family:'Syne',sans-serif;font-size:1rem;font-weight:800;color:var(--text);margin-bottom:3px}
.sc-desc{font-size:0.78rem;color:var(--text2);font-weight:500;line-height:1.4}
.sc-check{
  width:24px;height:24px;border-radius:50%;border:2px solid var(--border2);
  flex-shrink:0;display:flex;align-items:center;justify-content:center;
  position:relative;z-index:1;transition:all 0.2s;font-size:0.75rem;
}
.service-card.selected .sc-check{background:var(--tg);border-color:var(--tg);color:white}

/* TOGGLE SWITCH */
.toggle-row{
  background:var(--card);border:1px solid var(--border2);border-radius:var(--radius);
  padding:18px 16px;display:flex;align-items:center;gap:14px;
}
.toggle-info{flex:1}
.toggle-label{font-weight:700;font-size:0.95rem;color:var(--text);margin-bottom:3px}
.toggle-sub{font-size:0.78rem;color:var(--text2);font-weight:500}
.toggle-switch{position:relative;width:54px;height:30px;flex-shrink:0}
.toggle-switch input{opacity:0;width:0;height:0}
.toggle-slider{
  position:absolute;inset:0;border-radius:99px;
  background:var(--border2);cursor:pointer;transition:all 0.3s;
}
.toggle-slider::before{
  content:'';position:absolute;
  width:22px;height:22px;border-radius:50%;
  left:4px;bottom:4px;
  background:white;transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);
}
.toggle-switch input:checked + .toggle-slider{background:linear-gradient(135deg,var(--tg),var(--accent))}
.toggle-switch input:checked + .toggle-slider::before{transform:translateX(24px)}

/* DURATION PICKER */
.duration-grid{
  display:grid;grid-template-columns:repeat(3,1fr);gap:10px;
}
.dur-btn{
  padding:14px 8px;border:2px solid var(--border2);border-radius:var(--radius-sm);
  background:var(--card);cursor:pointer;transition:all 0.2s;
  display:flex;flex-direction:column;align-items:center;gap:4px;
  font-family:'DM Sans',sans-serif;
}
.dur-btn:hover{border-color:var(--border2);background:var(--card2);transform:translateY(-2px)}
.dur-btn.selected{border-color:var(--tg);background:rgba(42,171,238,0.08);box-shadow:0 0 0 1px var(--tg)}
.dur-btn:active{transform:scale(0.96)}
.dur-period{font-family:'Syne',sans-serif;font-size:0.95rem;font-weight:800;color:var(--text)}
.dur-price{font-size:0.72rem;font-weight:700;color:var(--muted)}
.dur-btn.selected .dur-price{color:var(--tg)}

/* USERNAME INPUT */
.input-group{display:flex;flex-direction:column;gap:10px}
.input-label{font-size:0.75rem;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:0.08em}
.input-wrap{position:relative}
.input-prefix{
  position:absolute;left:14px;top:50%;transform:translateY(-50%);
  font-family:'JetBrains Mono',monospace;font-size:1rem;font-weight:700;color:var(--tg);
  pointer-events:none;
}
.text-input{
  width:100%;padding:14px 14px 14px 34px;
  background:var(--card);border:2px solid var(--border2);border-radius:var(--radius-sm);
  font-family:'JetBrains Mono',monospace;font-size:0.95rem;font-weight:600;color:var(--text);
  outline:none;transition:border-color 0.2s,box-shadow 0.2s;
}
.text-input:focus{border-color:var(--tg);box-shadow:0 0 0 3px rgba(42,171,238,0.15)}
.text-input::placeholder{color:var(--muted);font-weight:500}
.text-input-plain{
  width:100%;padding:14px;
  background:var(--card);border:2px solid var(--border2);border-radius:var(--radius-sm);
  font-family:'JetBrains Mono',monospace;font-size:0.95rem;font-weight:600;color:var(--text);
  outline:none;transition:border-color 0.2s,box-shadow 0.2s;
}
.text-input-plain:focus{border-color:var(--tg);box-shadow:0 0 0 3px rgba(42,171,238,0.15)}
.text-input-plain::placeholder{color:var(--muted);font-weight:500}

/* INFO BOX */
.info-box{
  background:rgba(42,171,238,0.07);border:1px solid rgba(42,171,238,0.2);
  border-radius:var(--radius-sm);padding:12px 14px;
  font-size:0.78rem;color:var(--text2);font-weight:500;line-height:1.6;
  display:flex;gap:10px;align-items:flex-start;
}
.info-box-icon{font-size:1rem;flex-shrink:0;margin-top:1px}

/* CONFIRMATION CARD */
.confirm-card{
  background:var(--card);border:1px solid var(--border2);border-radius:var(--radius);
  overflow:hidden;
}
.confirm-header{
  background:linear-gradient(135deg,rgba(42,171,238,0.15),rgba(108,99,255,0.1));
  border-bottom:1px solid var(--border2);
  padding:16px 18px;display:flex;align-items:center;gap:12px;
}
.confirm-header-icon{font-size:1.8rem}
.confirm-header-text{}
.confirm-header-title{font-family:'Syne',sans-serif;font-size:1rem;font-weight:800;color:var(--text)}
.confirm-header-sub{font-size:0.78rem;color:var(--text2);font-weight:500;margin-top:2px}
.confirm-rows{padding:14px 18px;display:flex;flex-direction:column;gap:0}
.confirm-row{
  display:flex;align-items:center;justify-content:space-between;
  padding:10px 0;border-bottom:1px solid var(--border);
}
.confirm-row:last-child{border-bottom:none}
.cr-key{font-size:0.82rem;color:var(--text2);font-weight:600}
.cr-val{font-family:'Syne',sans-serif;font-size:0.88rem;font-weight:800;color:var(--text);display:flex;align-items:center;gap:5px}
.cr-val .star-icon{color:var(--yellow)}

/* PROMO SECTION */
.promo-section{display:flex;flex-direction:column;gap:10px}
.promo-label{font-size:0.75rem;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:0.08em}
.promo-wrap{display:flex;gap:8px}
.promo-input{
  flex:1;padding:12px 14px;
  background:var(--card);border:2px solid var(--border2);border-radius:var(--radius-sm);
  font-family:'JetBrains Mono',monospace;font-size:0.88rem;font-weight:600;color:var(--text);
  outline:none;transition:border-color 0.2s,box-shadow 0.2s;text-transform:uppercase;
  letter-spacing:0.06em;
}
.promo-input:focus{border-color:var(--yellow);box-shadow:0 0 0 3px rgba(247,151,30,0.15)}
.promo-input.applied{border-color:var(--green);box-shadow:0 0 0 3px rgba(67,233,123,0.15);color:var(--green)}
.btn-promo{
  padding:12px 14px;border:2px solid var(--border2);border-radius:var(--radius-sm);
  background:var(--card2);color:var(--text2);font-weight:700;font-size:0.85rem;
  cursor:pointer;transition:all 0.15s;white-space:nowrap;
}
.btn-promo:hover{border-color:var(--yellow);color:var(--yellow)}
.promo-status{font-size:0.78rem;font-weight:700;display:flex;align-items:center;gap:6px}
.promo-status.ok{color:var(--green)}
.promo-status.err{color:var(--accent2)}

/* PRICE HIGHLIGHT */
.price-highlight{
  background:linear-gradient(135deg,rgba(247,151,30,0.1),rgba(108,99,255,0.08));
  border:1px solid rgba(247,151,30,0.3);
  border-radius:var(--radius);padding:16px 18px;
  display:flex;align-items:center;justify-content:space-between;
}
.ph-label{font-size:0.88rem;font-weight:700;color:var(--text2)}
.ph-val{font-family:'Syne',sans-serif;font-size:1.6rem;font-weight:900;color:var(--yellow);display:flex;align-items:center;gap:8px}
.ph-val-old{font-size:1rem;color:var(--muted);text-decoration:line-through;margin-right:4px}

/* BUTTONS */
.btn-primary{
  width:100%;padding:16px;border:none;border-radius:var(--radius);
  background:linear-gradient(135deg,var(--tg),var(--accent));
  font-family:'Syne',sans-serif;font-size:1rem;font-weight:800;color:white;
  cursor:pointer;transition:all 0.15s;
  box-shadow:0 4px 20px rgba(42,171,238,0.3);letter-spacing:0.02em;
}
.btn-primary:active{transform:scale(0.97)}
.btn-primary:disabled{opacity:0.4;cursor:not-allowed;transform:none}
.btn-pay{
  width:100%;padding:17px;border:none;border-radius:var(--radius);
  background:linear-gradient(135deg,var(--yellow),#f39c12);
  font-family:'Syne',sans-serif;font-size:1.05rem;font-weight:900;color:#0b0d14;
  cursor:pointer;transition:all 0.15s;
  box-shadow:0 4px 24px rgba(247,151,30,0.4);letter-spacing:0.02em;
  display:flex;align-items:center;justify-content:center;gap:10px;
}
.btn-pay:active{transform:scale(0.97)}

/* SUCCESS BADGE */
.success-info{
  background:rgba(67,233,123,0.08);border:1px solid rgba(67,233,123,0.25);
  border-radius:var(--radius-sm);padding:12px 14px;
  font-size:0.8rem;color:var(--green);font-weight:600;line-height:1.5;
  display:flex;gap:10px;align-items:flex-start;
}
.success-info-icon{font-size:1rem;flex-shrink:0;margin-top:1px}

/* @media */
@media(max-width:390px){
  .logo-title{font-size:2.2rem}
  .feature-grid{grid-template-columns:1fr}
  .duration-grid{grid-template-columns:repeat(2,1fr)}
  .step-heading{font-size:1.1rem}
}
@media(max-height:680px){
  .hero{padding:30px 20px 24px}
  .logo-icon-wrap{width:60px;height:60px;font-size:1.8rem}
  .logo-title{font-size:2rem}
}
</style>
</head>
<body>

<!-- ‚ïê‚ïê LANDING ‚ïê‚ïê -->
<div class="screen active" id="menuScreen">
  <div class="menu-bg">
    <div class="grid-lines"></div>
    <div class="orb orb1"></div>
    <div class="orb orb2"></div>
    <div class="orb orb3"></div>
  </div>
  <div class="landing-wrap">
    <!-- HERO -->
    <div class="hero">
      <div class="hero-badge"><span class="hero-badge-dot"></span> Telegram –ë–æ—Ç—ã ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</div>
      <div class="hero-logo">
        <div class="logo-icon-wrap">ü§ñ</div>
        <h1 class="logo-title">X-BotForge</h1>
        <p class="logo-sub">–°–æ–∑–¥–∞—ë–º —É–º–Ω—ã—Ö Telegram-–±–æ—Ç–æ–≤ –ø–æ–¥ –≤–∞—à–∏ –∑–∞–¥–∞—á–∏ ‚Äî –±—ã—Å—Ç—Ä–æ, –Ω–∞–¥—ë–∂–Ω–æ –∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</p>
      </div>
      <button class="btn-cta" onclick="showOrder()">
        <div class="btn-cta-inner">‚ö° –ó–∞–∫–∞–∑–∞—Ç—å –±–æ—Ç–∞</div>
        <div class="btn-cta-glow"></div>
      </button>
    </div>

    <!-- FEATURES -->
    <div class="features-section">
      <div class="section-label">–ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º</div>
      <div class="feature-grid">
        <div class="feature-card">
          <div class="f-icon">üéØ</div>
          <div class="f-title">–ë–æ—Ç—ã –ø–æ–¥ –∑–∞–¥–∞—á—É</div>
          <div class="f-desc">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –Ω—É–ª—è –ø–æ –≤–∞—à–µ–º—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é</div>
        </div>
        <div class="feature-card">
          <div class="f-icon">üîß</div>
          <div class="f-title">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
          <div class="f-desc">–ü—Ä–æ–¥–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö –±–æ—Ç–æ–≤</div>
        </div>
        <div class="feature-card">
          <div class="f-icon">‚òÅÔ∏è</div>
          <div class="f-title">–•–æ—Å—Ç–∏–Ω–≥</div>
          <div class="f-desc">–£—Å—Ç–∞–Ω–æ–≤–∏–º –∏ –Ω–∞—Å—Ç—Ä–æ–∏–º –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ</div>
        </div>
        <div class="feature-card">
          <div class="f-icon">‚≠ê</div>
          <div class="f-title">Telegram Stars</div>
          <div class="f-desc">–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—É—é –ø–ª–∞—Ç—ë–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É Telegram</div>
        </div>
      </div>
    </div>

    <!-- PROCESS -->
    <div class="process-section" style="margin-top:20px">
      <div class="section-label" style="margin-bottom:10px;text-align:center">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
      <div class="process-steps">
        <div class="process-step">
          <div class="step-num">1</div>
          <div class="step-info">
            <div class="step-title">–û—Ñ–æ—Ä–º–∏—Ç–µ –∑–∞–∫–∞–∑</div>
            <div class="step-desc">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –ø—Ä—è–º–æ –Ω–∞ —Å–∞–π—Ç–µ</div>
          </div>
        </div>
        <div class="process-step">
          <div class="step-num">2</div>
          <div class="step-info">
            <div class="step-title">–û–ø–ª–∞—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram</div>
            <div class="step-desc">–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –≤ Stars ‚Äî –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –Ω–∞—à –±–æ—Ç</div>
          </div>
        </div>
        <div class="process-step">
          <div class="step-num">3</div>
          <div class="step-info">
            <div class="step-title">–ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</div>
            <div class="step-desc">–ú—ã —Å–≤—è–∂–µ–º—Å—è –∏ –ø–µ—Ä–µ–¥–∞–¥–∏–º –≥–æ—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∏–ª–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø—Ä–æ–¥–ª–µ–Ω–∏–µ</div>
          </div>
        </div>
      </div>
    </div>

    <!-- PAYMENT METHODS -->
    <div class="pricing-section" style="margin-top:20px">
      <div class="section-label" style="margin-bottom:10px;text-align:center">–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã</div>
      <div class="pricing-card">
        <div class="pricing-row">
          <span class="pr-label">‚≠ê Telegram Stars</span>
          <span class="pr-val" style="font-size:0.8rem;color:var(--green);font-weight:700">–î–æ—Å—Ç—É–ø–Ω–æ</span>
        </div>
        <div class="pricing-row">
          <span class="pr-label">üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</span>
          <span class="pr-val" style="font-size:0.8rem;color:var(--tg);font-weight:700">–ß–µ—Ä–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫—É</span>
        </div>
      </div>
      <div class="success-info" style="margin-top:10px">
        <span class="success-info-icon">üí≥</span>
        <span>–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫—É. –ù–∞–ø–∏—à–∏—Ç–µ <b style="color:var(--tg)">@FernieXBot</b> ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ–≤–µ–¥—ë—Ç –æ–ø–ª–∞—Ç—É –≤—Ä—É—á–Ω—É—é.</span>
      </div>
    </div>

    <div class="landing-footer" style="margin-top:24px">
      Telegram Stars ¬∑ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞ ¬∑ –ë–µ–∑–æ–ø–∞—Å–Ω–æ ¬∑ –ë—ã—Å—Ç—Ä–æ
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê ORDER SCREEN ‚ïê‚ïê -->
<div class="screen" id="orderScreen">
  <div class="menu-bg">
    <div class="grid-lines"></div>
    <div class="orb orb1" style="width:200px;height:200px;opacity:0.5"></div>
  </div>
  <div class="order-header">
    <button class="btn-back" id="backBtn" onclick="goBack()">‚Üê</button>
    <span class="order-title">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</span>
  </div>
  <div class="step-indicator" id="stepIndicator">
    <div class="step-dot active" id="dot0"></div>
    <div class="step-dot" id="dot1"></div>
    <div class="step-dot" id="dot2"></div>
    <div class="step-dot" id="dot3"></div>
  </div>
  <div class="order-body">

    <!-- STEP 0: Service Selection -->
    <div class="step-panel active" id="step0">
      <div>
        <div class="step-heading">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</div>
        <div class="step-sub">–ß—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?</div>
      </div>
      <div class="service-cards">
        <div class="service-card" id="sc-new" onclick="selectService('new')">
          <div class="sc-icon">ü§ñ</div>
          <div class="sc-info">
            <div class="sc-title">–°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É</div>
            <div class="sc-desc">–†–∞–∑—Ä–∞–±–æ—Ç–∞–µ–º –±–æ—Ç–∞ —Å –Ω—É–ª—è –ø–æ –≤–∞—à–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º</div>
          </div>
          <div class="sc-check" id="ck-new"></div>
        </div>
        <div class="service-card" id="sc-renew" onclick="selectService('renew')">
          <div class="sc-icon">üîÑ</div>
          <div class="sc-info">
            <div class="sc-title">–ü—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π</div>
            <div class="sc-desc">–ü—Ä–æ–¥–ª–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤–∞—à–µ–≥–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –±–æ—Ç–∞</div>
          </div>
          <div class="sc-check" id="ck-renew"></div>
        </div>
      </div>
      <button class="btn-primary" id="btn-step0" onclick="nextStep()" disabled>–î–∞–ª–µ–µ ‚Üí</button>
    </div>

    <!-- STEP 1: Hosting (only for new bot) -->
    <div class="step-panel" id="step1">
      <div>
        <div class="step-heading">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</div>
        <div class="step-sub">–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤ –∑–∞–∫–∞–∑</div>
      </div>
      <div class="toggle-row">
        <div class="toggle-info">
          <div class="toggle-label">‚òÅÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥</div>
          <div class="toggle-sub">–ú—ã –Ω–∞—Å—Ç—Ä–æ–∏–º –∏ –∑–∞–ø—É—Å—Ç–∏–º –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="hostingToggle"/>
          <span class="toggle-slider"></span>
        </label>
      </div>
      <button class="btn-primary" onclick="nextStep()">–î–∞–ª–µ–µ ‚Üí</button>
    </div>

    <!-- STEP 2: Duration (renew only) OR Bot name (new only) -->
    <div class="step-panel" id="step2">
      <!-- dynamic content injected by JS -->
    </div>

    <!-- STEP 3: Username + BotID (renew) / Confirm (new) / Confirm (renew after username) -->
    <div class="step-panel" id="step3">
      <!-- dynamic content injected by JS -->
    </div>

  </div>
</div>

<script>
/* ‚îÄ‚îÄ STATE ‚îÄ‚îÄ */
let currentService = null; // 'new' | 'renew'
let currentStep = 0;
let selectedDuration = null;
let botUsername = '';
let botUserId = '';
let hostingEnabled = false;
let promoApplied = false;

const PROMO_CODE = 'KEFIRXPR';

const PRICES = {
  '10d':  { normal: 15,  promo: 1  },
  '15d':  { normal: 20,  promo: 3  },
  '30d':  { normal: 50,  promo: 15 },
  '60d':  { normal: 85,  promo: 20 },
  '6m':   { normal: 380, promo: 100},
  '1y':   { normal: 715, promo: 200},
};
const DUR_LABELS = {
  '10d':'10 –¥–Ω.','15d':'15 –¥–Ω.','30d':'30 –¥–Ω.',
  '60d':'60 –¥–Ω.','6m':'6 –º–µ—Å.','1y':'1 –≥–æ–¥'
};

function showOrder(){
  document.getElementById('menuScreen').classList.remove('active');
  document.getElementById('orderScreen').classList.add('active');
  currentStep = 0;
  currentService = null;
  selectedDuration = null;
  botUsername = '';
  botUserId = '';
  promoApplied = false;
  hostingEnabled = false;
  // reset
  document.querySelectorAll('.service-card').forEach(c=>c.classList.remove('selected'));
  document.querySelectorAll('.sc-check').forEach(c=>c.textContent='');
  document.getElementById('btn-step0').disabled = true;
  document.getElementById('hostingToggle').checked = false;
  updateStepUI(0);
  showStep(0);
}

function goBack(){
  if(currentStep===0){
    document.getElementById('orderScreen').classList.remove('active');
    document.getElementById('menuScreen').classList.add('active');
  } else {
    currentStep--;
    // skip step1 for renew when going back
    if(currentService==='renew' && currentStep===1) currentStep--;
    // if going back to step3 in renew (from confirm), rebuild username panel
    if(currentService==='renew' && currentStep===3) buildRenewUsername();
    showStep(currentStep);
  }
}

function selectService(type){
  currentService = type;
  document.querySelectorAll('.service-card').forEach(c=>c.classList.remove('selected'));
  document.querySelectorAll('.sc-check').forEach(c=>c.textContent='');
  document.getElementById('sc-'+type).classList.add('selected');
  document.getElementById('ck-'+type).textContent='‚úì';
  document.getElementById('btn-step0').disabled = false;
}

function nextStep(){
  currentStep++;
  // skip hosting step for renew
  if(currentService==='renew' && currentStep===1) currentStep++;
  buildDynamicSteps();
  showStep(currentStep);
}

function updateStepUI(step){
  const isRenew = currentService === 'renew';
  const totalDots = isRenew ? 3 : 4;
  let dotIdx = step;
  if(step === 99) dotIdx = totalDots; // all done
  else if(isRenew && step >= 2) dotIdx = step - 1;
  for(let i=0;i<4;i++){
    const dot = document.getElementById('dot'+i);
    if(i >= totalDots){dot.style.display='none';continue;}
    dot.style.display='';
    dot.classList.remove('active','done');
    if(i < dotIdx) dot.classList.add('done');
    else if(i === dotIdx) dot.classList.add('active');
  }
}

function showStep(n){
  document.querySelectorAll('.step-panel').forEach(p=>p.classList.remove('active'));
  document.getElementById('step'+Math.min(n,3)).classList.add('active');
  updateStepUI(n);
}

function buildDynamicSteps(){
  if(currentService==='new'){
    buildNewSteps();
  } else {
    buildRenewSteps();
  }
}

/* ‚îÄ‚îÄ NEW BOT FLOW ‚îÄ‚îÄ */
// step2 = bot name, step3 = confirm
function buildNewSteps(){
  if(currentStep===2){
    document.getElementById('step2').innerHTML = `
      <div>
        <div class="step-heading">–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞</div>
        <div class="step-sub">–í–≤–µ–¥–∏—Ç–µ @username –±–æ—Ç–∞, –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å, –∏–ª–∏ –∂–µ–ª–∞–µ–º–æ–µ –∏–º—è</div>
      </div>
      <div class="input-group">
        <div class="input-label">Bot username</div>
        <div class="input-wrap">
          <span class="input-prefix">@</span>
          <input class="text-input" id="newBotName" placeholder="my_awesome_bot" autocomplete="off" spellcheck="false"/>
        </div>
      </div>
      <button class="btn-primary" onclick="confirmNewBot()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å ‚Üí</button>
    `;
  }
}

function confirmNewBot(){
  const val = document.getElementById('newBotName').value.trim().replace(/^@/,'');
  if(!val){document.getElementById('newBotName').focus();return;}
  botUsername = val;
  // build step3 confirm
  buildNewConfirm();
  currentStep = 3;
  showStep(3);
}

function buildNewConfirm(){
  const hosting = document.getElementById('hostingToggle').checked;
  hostingEnabled = hosting;
  document.getElementById('step3').innerHTML = `
    <div>
      <div class="step-heading">–í–∞—à –∑–∞–∫–∞–∑ –≥–æ—Ç–æ–≤!</div>
      <div class="step-sub">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª–∏ –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –æ–ø–ª–∞—Ç–µ –≤ Telegram</div>
    </div>
    <div class="confirm-card">
      <div class="confirm-header">
        <div class="confirm-header-icon">ü§ñ</div>
        <div class="confirm-header-text">
          <div class="confirm-header-title">–°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É</div>
          <div class="confirm-header-sub">@${botUsername}</div>
        </div>
      </div>
      <div class="confirm-rows">
        <div class="confirm-row"><span class="cr-key">–£—Å–ª—É–≥–∞</span><span class="cr-val">–ù–æ–≤—ã–π –±–æ—Ç</span></div>
        <div class="confirm-row"><span class="cr-key">Bot username</span><span class="cr-val">@${botUsername}</span></div>
        <div class="confirm-row"><span class="cr-key">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥</span><span class="cr-val">${hosting?'‚úÖ –î–∞':'‚ùå –ù–µ—Ç'}</span></div>
        <div class="confirm-row"><span class="cr-key">–°—Ç–æ–∏–º–æ—Å—Ç—å</span><span class="cr-val">–ü–æ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏</span></div>
      </div>
    </div>
    <div class="success-info"><span class="success-info-icon">‚ÑπÔ∏è</span>–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –≤—ã –ø–µ—Ä–µ–π–¥—ë—Ç–µ –≤ –Ω–∞—à Telegram-–±–æ—Ç. –¢–∞–º –º–µ–Ω–µ–¥–∂–µ—Ä –æ–±—Å—É–¥–∏—Ç –¥–µ—Ç–∞–ª–∏ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è.</div>
    <button class="btn-pay" onclick="payNew()">
      <span>‚úàÔ∏è</span><span>–ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram</span>
    </button>
  `;
}

function payNew(){
  const hosting = hostingEnabled ? 'true' : 'false';
  const name = botUsername;
  const payload = `bnew_${hosting}_${name}`;
  window.open(`https://t.me/FernieXBot?start=${payload}`,'_blank');
}

/* ‚îÄ‚îÄ RENEW FLOW ‚îÄ‚îÄ */
function buildRenewDuration(){
  document.getElementById('step2').innerHTML = `
    <div>
      <div class="step-heading">–°—Ä–æ–∫ –ø—Ä–æ–¥–ª–µ–Ω–∏—è</div>
      <div class="step-sub">–í—ã–±–µ—Ä–∏—Ç–µ, –Ω–∞ –∫–∞–∫–æ–π –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É</div>
    </div>
    <div class="duration-grid">
      ${Object.entries(PRICES).map(([k,v])=>`
        <div class="dur-btn" id="dur-${k}" onclick="selectDuration('${k}')">
          <div class="dur-period">${DUR_LABELS[k]}</div>
          <div class="dur-price" id="dur-price-${k}">‚≠ê ${v.normal} Stars</div>
        </div>
      `).join('')}
    </div>
    <button class="btn-primary" id="btn-dur" onclick="goToUsername()" disabled>–î–∞–ª–µ–µ ‚Üí</button>
  `;
}

function buildRenewUsername(){
  document.getElementById('step3').innerHTML = `
    <div>
      <div class="step-heading">–î–∞–Ω–Ω—ã–µ –±–æ—Ç–∞</div>
      <div class="step-sub">–£–∫–∞–∂–∏—Ç–µ username –∏ ID –±–æ—Ç–∞, –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç–µ</div>
    </div>

    <div class="input-group">
      <div class="input-label">Bot username</div>
      <div class="input-wrap">
        <span class="input-prefix">@</span>
        <input class="text-input" id="renewBotName" placeholder="my_existing_bot" autocomplete="off" spellcheck="false"/>
      </div>
    </div>

    <div class="input-group">
      <div class="input-label">ID –±–æ—Ç–∞ (—á–∏—Å–ª–æ–≤–æ–π)</div>
      <input class="text-input-plain" id="renewBotId" placeholder="123456789" autocomplete="off" inputmode="numeric" spellcheck="false"/>
      <div class="info-box">
        <span class="info-box-icon">üí°</span>
        <span>–ß–∏—Å–ª–æ–≤–æ–π ID –±–æ—Ç–∞ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —É <b style="color:var(--tg)">@userinfobot</b> ‚Äî –ø–µ—Ä–µ—à–ª–∏—Ç–µ —Ç—É–¥–∞ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ ID.</span>
      </div>
    </div>

    <button class="btn-primary" onclick="confirmRenew()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å ‚Üí</button>
  `;
}

function buildRenewSteps(){
  if(currentStep === 2) buildRenewDuration();
  if(currentStep === 3) buildRenewUsername();
}

function selectDuration(k){
  selectedDuration = k;
  document.querySelectorAll('.dur-btn').forEach(b=>b.classList.remove('selected'));
  document.getElementById('dur-'+k).classList.add('selected');
  document.getElementById('btn-dur').disabled = false;
}

function goToUsername(){
  if(!selectedDuration) return;
  currentStep = 3;
  buildRenewUsername();
  showStep(3);
}

function confirmRenew(){
  const nameVal = document.getElementById('renewBotName').value.trim().replace(/^@/,'');
  const idVal   = document.getElementById('renewBotId').value.trim();

  if(!nameVal){
    document.getElementById('renewBotName').focus();
    document.getElementById('renewBotName').style.borderColor='var(--accent2)';
    return;
  }
  if(!idVal || isNaN(idVal)){
    document.getElementById('renewBotId').focus();
    document.getElementById('renewBotId').style.borderColor='var(--accent2)';
    return;
  }

  botUsername = nameVal;
  botUserId   = idVal;

  currentStep = 4; // virtual step for confirm screen
  buildRenewConfirm();
  updateStepUI(99);
}

function buildRenewConfirm(){
  const p = PRICES[selectedDuration];
  const normalPrice = p.normal;
  const promoPrice = p.promo;

  document.getElementById('step3').innerHTML = `
    <div>
      <div class="step-heading">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</div>
      <div class="step-sub">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ–π</div>
    </div>
    <div class="confirm-card">
      <div class="confirm-header">
        <div class="confirm-header-icon">üîÑ</div>
        <div class="confirm-header-text">
          <div class="confirm-header-title">–ü—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏</div>
          <div class="confirm-header-sub">@${botUsername}</div>
        </div>
      </div>
      <div class="confirm-rows">
        <div class="confirm-row"><span class="cr-key">–£—Å–ª—É–≥–∞</span><span class="cr-val">–ü—Ä–æ–¥–ª–µ–Ω–∏–µ</span></div>
        <div class="confirm-row"><span class="cr-key">–ë–æ—Ç</span><span class="cr-val">@${botUsername}</span></div>
        <div class="confirm-row"><span class="cr-key">ID –±–æ—Ç–∞</span><span class="cr-val" style="font-family:'JetBrains Mono',monospace;font-size:0.82rem">${botUserId}</span></div>
        <div class="confirm-row"><span class="cr-key">–°—Ä–æ–∫</span><span class="cr-val">${DUR_LABELS[selectedDuration]}</span></div>
      </div>
    </div>
    <div class="promo-section">
      <div class="promo-label">–ü—Ä–æ–º–æ–∫–æ–¥ <span style="color:var(--accent);font-size:0.68rem">(–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</span></div>
      <div class="promo-wrap">
        <input class="promo-input" id="promoInput" placeholder="–í–í–ï–î–ò–¢–ï –ö–û–î" maxlength="20" oninput="onPromoInput()"/>
        <button class="btn-promo" onclick="applyPromo()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
      </div>
      <div class="promo-status" id="promoStatus" style="display:none"></div>
    </div>
    <div class="price-highlight">
      <div class="ph-label">–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ</div>
      <div class="ph-val" id="priceDisplay">
        <span class="star-icon">‚≠ê</span>
        <span id="priceNumber">${normalPrice}</span>
        <span style="font-size:0.9rem;color:var(--text2)">Stars</span>
      </div>
    </div>
    <button class="btn-pay" onclick="payRenew()">
      <span>‚≠ê</span><span>–û–ø–ª–∞—Ç–∏—Ç—å –ø—Ä–æ–¥–ª–µ–Ω–∏–µ</span>
    </button>
  `;
  promoApplied = false;
}

function onPromoInput(){
  const v = document.getElementById('promoInput').value.trim().toUpperCase();
  if(promoApplied && v !== PROMO_CODE){
    promoApplied = false;
    document.getElementById('promoInput').classList.remove('applied');
    updatePriceDisplay(false);
    document.getElementById('promoStatus').style.display='none';
  }
}

function applyPromo(){
  const v = document.getElementById('promoInput').value.trim().toUpperCase();
  const status = document.getElementById('promoStatus');
  if(v === PROMO_CODE){
    promoApplied = true;
    document.getElementById('promoInput').classList.add('applied');
    status.style.display='flex';
    status.className='promo-status ok';
    status.textContent='‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥ –ø—Ä–∏–º–µ–Ω—ë–Ω! –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞';
    updatePriceDisplay(true);
  } else {
    promoApplied = false;
    document.getElementById('promoInput').classList.remove('applied');
    status.style.display='flex';
    status.className='promo-status err';
    status.textContent='‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥';
    updatePriceDisplay(false);
  }
}

function updatePriceDisplay(promo){
  const p = PRICES[selectedDuration];
  const el = document.getElementById('priceDisplay');
  if(promo){
    el.innerHTML = `<span class="ph-val-old">‚≠ê${p.normal}</span><span class="star-icon">‚≠ê</span><span id="priceNumber">${p.promo}</span><span style="font-size:0.9rem;color:var(--text2)">Stars</span>`;
  } else {
    el.innerHTML = `<span class="star-icon">‚≠ê</span><span id="priceNumber">${p.normal}</span><span style="font-size:0.9rem;color:var(--text2)">Stars</span>`;
  }
}

function payRenew(){
  const p = PRICES[selectedDuration];
  const price = promoApplied ? p.promo : p.normal;
  const promo = promoApplied ? PROMO_CODE : 'none';
  // —Ñ–æ—Ä–º–∞—Ç: bsup_{bot_user_id}_{bname}_{price}_{promo}_{duration}
  const payload = `bsup_${botUserId}_${botUsername}_${price}_${promo}_${selectedDuration}`;
  window.open(`https://t.me/FernieXBot?start=${payload}`,'_blank');
}
</script>
</body>
</html>
